<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<bean id="Admin" class="org.openedit.entermedia.modules.AdminModule">
		<property name="sendMailModule">
			<ref bean="Email" />
		</property>
		<property name="cookieEncryption">
			<ref bean="stringEncryption" />
		</property>
		<property name="welcomeFiles">
			<list>
				<value>index.html</value>
				<value>index.htm</value>
				<value>index.shtml</value>
				<value>index.jsp</value>
				<value>index.php</value>
			</list>
		</property>
	</bean>
	<bean id="AssetEditModule" class="org.openedit.entermedia.modules.AssetEditModule">
		<property name="assetImporter"><ref bean="assetImporter" /></property>
		<property name="fileUpload"><ref bean="fileUpload" /></property>
		<property name="webEventListener"><ref bean="mediaEventHandler" /></property>
		<property name="webServer"><ref bean="WebServer" /></property>
	</bean>


	<bean id="AssetControlModule" class="org.openedit.entermedia.modules.AssetControlModule" />
	<bean id="AlbumModule" class="org.openedit.entermedia.modules.AlbumModule">
		<property name="postMail">
			<ref bean="postMail" />
		</property>
		<property name="webEventListener">
			<ref bean="mediaEventHandler" />
		</property>
	</bean>
	<bean id="AlbumGroupModule" class="org.openedit.entermedia.modules.AlbumGroupModule" />
	<bean id="AssetSyncModule" class="org.openedit.entermedia.modules.AssetSyncModule">
		<property name="assetImporter">
			<ref bean="assetImporter" />
		</property>
		<property name="fileUpload">
			<ref bean="fileUpload" />
		</property>
	</bean>
	<bean id="AutoCompleteModule" class="org.openedit.entermedia.modules.AutoCompleteModule">
	</bean>


	<bean id="CategoryModule" class="org.openedit.entermedia.modules.CategoryModule">
	</bean>

	<bean id="CommentModule" class="org.openedit.entermedia.modules.CommentModule">
		<property name="commentArchive">
			<ref bean="commentArchive" />
		</property>
		<property name="webEventListener">
			<ref bean="mediaEventHandler" />
		</property>
	</bean>
	<bean id="CategoryEditModule" class="org.openedit.entermedia.modules.CategoryEditModule">
		<property name="webEventListener">
			<ref bean="mediaEventHandler" />
		</property>
	</bean>
	<bean id="DataEditModule" class="org.openedit.entermedia.modules.DataEditModule">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>

	</bean>

	<bean id="emailErrorHandler" class="org.entermedia.error.EmailErrorHandler">
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="userManager"><ref bean="userManager"/></property>
		 <property name="postMail"><ref bean="postMail" /></property>
	</bean>
	

	<bean id="Email" class="org.openedit.entermedia.modules.SendMailModule">
		<property name="postMail">
			<ref bean="postMail" />
		</property>
	</bean>

	<bean id="FriendModule" class="org.openedit.entermedia.modules.FriendModule">

	</bean>
	<bean id="FetchModule" class="org.openedit.entermedia.modules.FetchModule" />

	<bean id="LDAPModule" class="org.openedit.entermedia.modules.LDAPModule">
	</bean>


	<bean id="MediaSearchModule" class="org.openedit.entermedia.modules.MediaSearchModule">
		<property name="searchQueryArchive">
			<ref bean="searchQueryArchive" />
		</property>
	</bean>

	<bean id="MediaAdminModule" class="org.openedit.entermedia.modules.MediaAdminModule">
	</bean>


	<bean id="MultiSearchModule" class="org.openedit.entermedia.modules.MultiSearchModule"
		singleton="true">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="searchQueryArchive">
			<ref bean="searchQueryArchive" />
		</property>
	</bean>


	<bean id="MediaArchiveModule" class="org.openedit.entermedia.modules.MediaArchiveModule">
		<property name="emailErrorHandler">
			<ref bean="emailErrorHandler" />
		</property>
		<property name="fileUpload">
			<ref bean="fileUpload" />
		</property>
	</bean>

	<bean id="MediaEmailModule" class="org.openedit.entermedia.modules.MediaEmailModule">
		<property name="postMail">
			<ref bean="postMail" />
		</property>
	</bean>
	<bean id="MountModule" class="org.openedit.entermedia.modules.MountModule">
		<property name="webServer">
			<ref bean="WebServer" />
		</property>
	</bean>

	<bean id="PermissionModule" class="org.openedit.entermedia.modules.PermissionModule">
	</bean>


	<bean id="PathEventModule" class="org.openedit.entermedia.modules.PathEventModule">

	</bean>

	<bean id="RecentActivityModule" class="org.openedit.entermedia.modules.RecentActivityModule">
		<property name="recentActivityManager">
			<ref bean="recentActivityManager" />
		</property>
	</bean>


	<bean id="RelatedAssetsModule" class="org.openedit.entermedia.modules.RelatedAssetsModule" />

	<bean id="Script" class="com.openedit.modules.scriptrunner.ScriptModule"/>


	<bean id="RelatedKeywordModule" class="org.openedit.entermedia.modules.RelatedKeywordModule">
	</bean>
	<bean id="TabModule" class="org.openedit.webui.tabs.TabModule">
	</bean>

	<!-- bean id="TaskModule" name="TaskModule"
		class="org.openedit.entermedia.workflow.TaskModule" abstract="false"
		singleton="true" lazy-init="default" autowire="default"
		dependency-check="default">
		<property name="mediaArchiveManager">
			<ref bean="mediaArchiveManager" />
		</property>

		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="taskManager">
			<ref bean="workflowTaskManager" />
		</property>
	</bean -->



	<bean id="UserProfileModule" class="org.openedit.entermedia.modules.UserProfileModule">
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
		<property name="fileUpload">
			<ref bean="fileUpload" />
		</property>
	</bean>

	<bean id="User" class="org.openedit.entermedia.modules.UserManagerModule">
		<property name="postMail"><ref bean="postMail" /></property>
		<property name="questionArchive"><ref bean="questionArchive" /></property>
	</bean>

	<bean id="questionArchive" class="com.openedit.modules.admin.users.QuestionArchive">
		<property name="xmlArchive"><ref bean="xmlArchive"/></property>
	</bean>
	<bean id="Page" class="com.openedit.modules.admin.filemanager.FileManagerModule">
			<property name="treeSupport"><ref bean="WebTree"/></property>
			<property name="fileUpload"><ref bean="fileUpload"/></property>
	</bean>


	<bean id="UpdateModule" class="com.openedit.modules.update.UpdateModule">
		<property name="windowsUtil">
			<ref bean="windowsUtil" />
		</property>
		<property name="postMail">
			<ref bean="postMail" />
		</property>
	</bean>


	<bean id="postMail" class="org.entermedia.email.PostMail">
		<!-- property name="smtpUsername">
			<value>username</value>
		</property>
		<property name="smtpPassword">
			<value></value>
		</property -->
		<property name="smtpSecured">
			<value>false</value>
		</property>
		<property name="smtpServer">
			<value>localhost</value>
		</property>
		<!--  property name="port">
			<value>25</value>
		</property -->
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>

	</bean>



	<bean id="plugInFinder" class="com.openedit.modules.update.PlugInFinder" singleton="false">
		<property name="webServer">
			<ref bean="WebServer" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="Date" class="com.openedit.modules.dates.DateModule"/>

	<bean id="searcherManager" class="org.openedit.data.SearcherManager">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<bean id="userSearcher" class="org.openedit.users.LuceneUserSearcher">
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>
	<bean id="groupSearcher" class="org.openedit.users.LuceneGroupSearcher">
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>

	<bean id="dynamicSearcher" class="org.openedit.xml.XmlSearcher"
		singleton="false">
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
		<property name="webEventListener">
			<ref bean="editorEventHandler" />
		</property>
	</bean>

	<bean id="compositeLuceneSearcher" class="org.openedit.data.lucene.CompositeLuceneSearcher"
		singleton="false">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="userProfileManager"><ref bean="userProfileManager"/></property>
	</bean>



	<bean id="searchQueryArchive" class="org.openedit.data.SearchQueryArchive"
		singleton="true">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>
	<bean id="fileUpload" class="org.entermedia.upload.FileUpload">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="root">
			<ref bean="root" />
		</property>
	</bean>

	<bean id="commentArchive" class="com.openedit.comments.CommentArchive">
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>


	<bean id="pathAction" class="com.openedit.modules.scheduler.PathAction"
		singleton="false">
		<property name="requestUtils">
			<ref bean="requestUtils" />
		</property>
		<property name="webServer">
			<ref bean="WebServer" />
		</property>
	</bean>

	<bean id="propertyDetailsArchive" class="org.openedit.data.PropertyDetailsArchive"
		singleton="false">
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="textLabelManager"><ref bean="textLabelManager" /></property>
		<property name="pageManager"><ref bean="pageManager" /></property>
	</bean>


	<bean id="editorEventHandler" class="org.openedit.event.WebEventCompositeHandler">
		<property name="webEventListeners">
			<list>
				<ref bean="logSearcherEventHandler" />
			</list>
		</property>
	</bean>
	<bean id="logSearcherEventHandler" class="org.openedit.logger.LogSearcherEventHandler">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
	</bean>


	<bean id="urlRepository" class="org.openedit.entermedia.util.UrlRepository"
		singleton="false" />

	<bean id="pathEventManager" class="org.openedit.events.PathEventManager"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="requestUtils">
			<ref bean="requestUtils" />
		</property>
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
	</bean>

	<bean id="pathEvent" class="org.openedit.events.PathEvent"
		singleton="false">
		<property name="requestUtils">
			<ref bean="requestUtils" />
		</property>
		<property name="webServer">
			<ref bean="WebServer" />
		</property>
	</bean>

	<bean id="pathEventHandler" class="org.openedit.events.PathEventHandler">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<bean id="ldapSearcher" class="org.openedit.entermedia.util.LdapSearcher"
		singleton="false">
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
	</bean>





	<bean id="enterMedia" class="org.openedit.entermedia.EnterMedia"
		singleton="false">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
	</bean>

	<bean id="mediaArchive" class="org.openedit.entermedia.MediaArchive"
		singleton="false">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="mediaEventHandler">
			<ref bean="mediaEventHandler" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="searchFilterArchive">
			<ref bean="searchFilterArchive" />
		</property>
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="assetSecurityArchive">
			<ref bean="assetSecurityArchive" />
		</property>
		<property name="catalogImportConverter">
			<ref bean="assetCompositeConverter" />
		</property>
		<property name="assetImporter">
			<ref bean="assetImporter" />
		</property>
		<property name="assetStatsManager">
			<ref bean="assetStatsManager" />
		</property>
		<property name="mimeTypeMap">
			<ref bean="mimeTypeMap" />
		</property>
		
	</bean>

	<bean id="albumArchive" class="org.openedit.entermedia.albums.AlbumArchive"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<bean id="userAlbums" class="com.entermedia.archive.albums.UserAlbums"
		singleton="false" />

	<bean id="zipAlbumGenerator" class="org.openedit.entermedia.generators.ZipAlbumGenerator">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>
	<bean id="downloadZipGenerator" class="org.openedit.entermedia.generators.DownloadZipGenerator">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>
	<bean id="zipGenerator" class="org.openedit.entermedia.generators.ZipGenerator">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="root"><ref bean="root"/></property>
	</bean>
	<bean id="xmlRpcGenerator" class="org.openedit.entermedia.generators.XmlRpcGenerator">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<bean id="albumSearcher" class="org.openedit.entermedia.albums.LuceneAlbumSearcher"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>


	<bean id="assetArchive" class="org.openedit.entermedia.xmldb.XmlAssetArchive"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="updateExistingRecord">
			<value>true</value>
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<bean id="pdfExtractor" class="org.openedit.entermedia.scanner.MetadataPdfExtractor" />
	<bean id="exiftoolMetadataExtractor"
		class="org.openedit.entermedia.scanner.ExiftoolMetadataExtractor">
		<property name="exec">
			<ref bean="exec" />
		</property>
		<property name="exifToolThumbCreator">
			<ref bean="exifToolThumbCreator" />
		</property>
	</bean>
	<bean id="creatorManager" class="org.openedit.entermedia.creator.CreatorManager"
		singleton="false">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="metaDataReader" class="org.openedit.entermedia.scanner.MetaDataReader">
		<property name="metadataExtractors">
			<list>
				<ref bean="pdfExtractor" />
				<ref bean="exiftoolMetadataExtractor" />
			</list>
		</property>
	</bean>

	<bean id="originalDownloadGenerator"
		class="org.openedit.entermedia.generators.OriginalDocumentGenerator">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<!-- bean id="originalArchiveDocument"
		class="org.openedit.entermedia.generators.OriginalDocumentGenerator">
		<property name="mediaArchiveManager">
			<ref bean="mediaArchiveManager" />
		</property>
	</bean  -->
	<bean id="convertArchiveDocument" class="org.openedit.entermedia.generators.ConvertGenerator">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>
	<bean id="resultsDownloadGenerator"
		class="org.openedit.entermedia.generators.ResultsDownloadGenerator" />
	<bean id="categoryDownloadGenerator"
		class="org.openedit.entermedia.generators.CategoryDownloadGenerator"></bean>

	<bean id="assetCompositeConverter" class="org.openedit.entermedia.scanner.CompositeConverter">
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
		<property name="catalogConverters">
			<list>

				<value>artConverter</value>
				<value>csvConverter</value>
				<value>genericConverter</value>
			</list>
		</property>
	</bean>

	<bean id="serialTaskManager" class="com.openedit.modules.scheduler.SerialTaskManager" />


	<bean id="authenticator" class="com.openedit.users.authenticate.CompositeAuthenticator">
		<property name="authenticators">
			<list>
				<ref bean="fileAuthenticator" />
				<ref bean="windowsAuthenticator" />
				<ref bean="ldapAuthenticator" />
				<ref bean="jaasAuthenticator" />
			</list>
		</property>
	</bean>

	<bean id="windowsAuthenticator" class="org.openedit.entermedia.util.WindowsAuthenticator">
	</bean>

	<bean id="assetUtilities" class="org.openedit.entermedia.AssetUtilities">
		<property name="metaDataReader">
			<ref bean="metaDataReader" />
		</property>
	</bean>

	<bean id="assetImporter" class="org.openedit.entermedia.scanner.AssetImporter">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="assetUtilities">
			<ref bean="assetUtilities" />
		</property>
		<property name="urlMetadataImporters">
			<list>
				<ref bean="youtubeImporter" />
				<ref bean="urlDownloadImporter" />
			</list>
		</property>
	</bean>

	<bean id="youtubeImporter" class="org.openedit.entermedia.fetch.YoutubeImporter" />
	<bean id="urlDownloadImporter" class="org.openedit.entermedia.fetch.UrlDownloadImporter" />

	<bean id="assetRelatedKeywordSearcher"
		class="org.openedit.entermedia.search.RelatedKeywordLuceneSearcher"
		singleton="false">
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>

	<bean id="compositeLuceneAutoCompleteSearcher"
		class="org.openedit.entermedia.autocomplete.AutoCompleteLuceneSearcher"
		singleton="false">
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>

	<bean id="dynamicLogSearcher" class="org.openedit.logger.LuceneLogSearcher"
		singleton="false">
		<property name="rootDirectory">
			<bean class="java.io.File">
				<constructor-arg>
					<ref bean="root" />
				</constructor-arg>
				<constructor-arg>
					<value>/WEB-INF/logs</value>
				</constructor-arg>
			</bean>
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>


	<bean id="LogSearchModule" 
		class="org.openedit.logger.LogSearchModule" abstract="false"
		singleton="true" lazy-init="default" autowire="default"
		dependency-check="default">
		
	</bean>
	
	<bean id="logSearcher" 
		class="org.openedit.logger.LuceneLogSearcher" singleton="false" >
		<property name="rootDirectory">
			<bean class="java.io.File">
				<constructor-arg><ref bean="root"/></constructor-arg>
				<constructor-arg><value>/WEB-INF/logs</value></constructor-arg>
			</bean>
		</property>
		<property name="pageManager"><ref bean="pageManager"/></property>
	</bean>

	<bean id="categoryArchive" class="org.openedit.entermedia.xmldb.XmlCategoryArchive"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="xmlUtil">
			<ref bean="xmlUtil" />
		</property>
	</bean>

	<bean id="searchFilterArchive" class="org.openedit.entermedia.search.SearchFilterArchive"
		singleton="true">
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

  <!-- This can be aliased using beans.xml to one with a nicer connector -->
	<bean id="assetSearcher" class="org.openedit.entermedia.search.BaseAssetSearcher"
		singleton="false">
		<property name="dataConnector">
			<ref bean="luceneAssetDataConnector" />
		</property>
		<property name="webEventListener">
			<ref bean="mediaEventHandler" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<!--  Converters -->
	<bean id="imageMagickImageCreator" class="org.openedit.entermedia.creator.ImageMagickImageCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="preProcessors">
			<list>
				<ref bean="ffMpegImageCreator" />
				<ref bean="exifToolThumbCreator" />
				<!--   ref bean="ghostScriptImageCreator" / -->
			</list>
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>

	<bean id="fFMpegVideoCreator" class="org.openedit.entermedia.creator.FfMpegVideoCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>
	
	
	<bean id="fFMpegAudioCreator" class="org.openedit.entermedia.creator.FfMpegAudioCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>
	
	
	<bean id="ffMpegImageCreator" class="org.openedit.entermedia.creator.FfMpegImageCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>

	<bean id="exifToolThumbCreator" class="org.openedit.entermedia.creator.ExifToolThumbCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>

	<!--   bean id="indesignImageCreator" class="org.openedit.entermedia.creator.IndesignImageCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean -->

	<bean id="ghostScriptImageCreator" class="org.openedit.entermedia.creator.GhostScriptImageCreator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>

	<bean id="lameMp3Creator" class="org.openedit.entermedia.creator.LameMp3Creator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>

	<bean id="ConvertGenerator" class="org.openedit.entermedia.generators.ConvertGenerator">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="originalFileManager" class="org.openedit.entermedia.OriginalFileManager"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="assetEditor" class="org.openedit.entermedia.edit.AssetEditor" singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="commentArchive"><ref bean="commentArchive"/></property>
	</bean>

	<bean id="categoryEditor" class="org.openedit.entermedia.edit.CategoryEditor" singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="relatedKeywordSearcher"
		class="org.openedit.entermedia.search.RelatedKeywordLuceneSearcher">
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>

	<bean id="xmlArchive" class="org.openedit.xml.XmlArchive">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="assetSecurityArchive" class="org.openedit.entermedia.search.AssetSecurityArchive">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="requestUtils">
			<ref bean="requestUtils" />
		</property>
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		
	</bean>




	<bean id="sourcepathcreator" class="org.openedit.entermedia.AssetSourcePathCreator">

	</bean>

	<bean name="xmpWriter" class="org.openedit.entermedia.xmp.XmpWriter">
		<property name="exec">
			<ref bean="exec" />
		</property>
	</bean>

	<bean id="mediaEventHandler" class="org.openedit.event.WebEventCompositeHandler">
		<property name="webEventListeners">
			<list>
				<ref bean="pathEventHandler" />
			</list>
		</property>

	</bean>

	<bean id="recentActivityManager" class="org.openedit.entermedia.friends.RecentActivityManager">
		<property name="userManager">
			<ref bean="userManager" />
		</property>

	</bean>

	<bean id="uploadQueue" class="org.openedit.entermedia.scanner.UploadQueue">
		<property name="assetImporter">
			<ref bean="assetImporter" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
	</bean>

	<bean id="friendSearcher" class="org.openedit.data.XmlFileSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>users</value></property>
	</bean>

	<bean id="assetvotesSearcher" class="org.openedit.data.XmlFileSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>assets</value></property>
	</bean>

	<bean id="invitationSearcher" class="org.openedit.data.XmlFileSearcher"
		singleton="false">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="xmlArchive">
			<ref bean="xmlArchive" />
		</property>
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
		<property name="prefix">
			<value>users</value>
		</property>
	</bean>

	<bean id="friendManager" class="org.openedit.entermedia.friends.FriendManager">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="commentArchive">
			<ref bean="commentArchive" />
		</property>
		<property name="postMail">
			<ref bean="postMail" />
		</property>
	</bean>

	<bean id="albumGroupManager" class="org.openedit.entermedia.albums.AlbumGroupManager">
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
		<property name="userManager">
			<ref bean="userManager" />
		</property>
		<property name="commentArchive">
			<ref bean="commentArchive" />
		</property>
		<property name="postMail">
			<ref bean="postMail" />
		</property>
	</bean>

	<bean id="keywordWriter" class="org.openedit.entermedia.xmp.MetadataWriter"
		singleton="false">
		<property name="xmpWriter">
			<ref bean="xmpWriter" />
		</property>
		<property name="moduleManager">
			<ref bean="moduleManager" />
		</property>
	</bean>

	<bean id="velocity" class="com.openedit.generators.VelocityGenerator" >
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="openEditEngine"><ref bean="OpenEditEngine" /></property>
	</bean>


	<bean id="velocityGenerator" class="com.openedit.generators.VelocityGenerator" >
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="openEditEngine"><ref bean="OpenEditEngine" /></property>
	</bean>
	<bean id="admintoolbarGenerator" class="org.openedit.entermedia.generators.AdminToolBarGenerator" >
		<property name="headerPath"><value>/system/components/openedit/toolbar/admintoolbarselector.html</value></property>
		<property name="search"><value>&lt;body</value></property>
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="moduleManager"><ref bean="moduleManager"/></property>
		<property name="wraps"><ref bean="velocityGenerator"/></property>
	</bean>
	<bean id="ValidationModule" 
		class="org.openedit.modules.validation.ValidationModule" >
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="validator"><ref bean="validator"/></property>
	</bean>

	<bean id="validator" 
		class="org.openedit.modules.validation.Validator" />
		
  	<bean id="LinkTree" class="org.openedit.links.LinkModule" init-method="init" >
  		
	  </bean>
  	<bean id="htmlLinkLoader" class="org.openedit.links.HtmlLinkLoader">
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="xmlUtil"><ref bean="xmlUtil"/></property>
  	</bean>
  	<bean id="xmlLinkLoader" class="org.openedit.links.XmlLinkLoader">
  		<property name="xmlUtil"><ref bean="xmlUtil"/></property>
  	</bean>
	
	<bean id="ImageEditor" class="org.openedit.images.ImageEditModule" />

	<bean id="TranslationModule" class="org.openedit.entermedia.modules.TranslationModule" />

	<bean id="autoTranslationVelocityGenerator" class="org.openedit.entermedia.generators.ToolbarGenerator" >
		<property name="headerPath"><value>/system/tools/debug/toolbar.html</value></property>
		<property name="footerPath"><value>/system/tools/debug/footer.html</value></property>
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="wraps"><ref bean="autoTranslationGenerator"/></property>
	</bean>
	
	<bean id="xmlFileSearcher" class="org.openedit.data.XmlFileSearcher" singleton="false">
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="xmlArchive"><ref bean="xmlArchive"/></property>
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="rootDirectory"><ref bean="root"/></property>
	</bean>
	
	<bean id="emailArchive" class="org.entermedia.email.XmlEmailArchive" singleton="false">
		<property name="userManager"><ref bean="userManager"/></property>
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="postMail"><ref bean="postMail" /></property>
		<property name="root"><ref bean="root"/></property>	
	</bean>
	
	<bean id="emailSearcher" class="org.entermedia.email.LuceneEmailSearcher" singleton="false">
		<property name="emailArchive"><ref bean="emailArchive"/></property>	
		<property name="rootDirectory"><ref bean="root"/></property>	
	</bean>
	
	<bean id="fileSearcher" class="org.openedit.data.FileSearcher" singleton="false">
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="root"><ref bean="root"/></property>
	</bean>
	
	<bean id="userEventHandler" class="org.openedit.event.WebEventCompositeHandler">
		<property name="webEventListeners">
			<list>
				<ref bean="logSearcherEventHandler"/>
			</list>
		</property>		
	</bean>

	<bean id="assetStatsManager" class="org.openedit.entermedia.AssetStatsManager">
		<property name="mediaEventHandler">
			<ref bean="mediaEventHandler" />
		</property>
		<property name="searcherManager"><ref bean="searcherManager"/></property>
	</bean>
	<bean id="AssetStatsModule" class="org.openedit.entermedia.modules.AssetStatsModule">
	</bean>

	<bean id="assetAutoCompleteSearcher"
		class="org.openedit.entermedia.autocomplete.AutoCompleteLuceneSearcher"
		singleton="false">
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>

	 <bean id="localDataManager" class="org.openedit.entermedia.cluster.LocalDataManager" >
		<property name="root"><ref bean="root" /></property>
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="userManager"><ref bean="userManager"/></property>
 	</bean>
	 <bean id="remoteDataManager" class="org.openedit.entermedia.cluster.RemoteDataManager" >
		<property name="root"><ref bean="root" /></property>
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="pageManager"><ref bean="pageManager"/></property>
		<property name="userManager"><ref bean="userManager"/></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
 	</bean>

	<bean id="DistributedDataModule" class="org.openedit.entermedia.modules.DistributedDataModule" >
			<property name="localDataManager"><ref bean="localDataManager" /></property>
	</bean>

	<bean id="dataFileSearcher" class="org.openedit.entermedia.cluster.DataFileSearcher">
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
	</bean>

	<bean id="OrderModule" class="org.openedit.entermedia.modules.OrderModule" >
		<property name="orderManager">
			<ref bean="orderManager" />
		</property>
	</bean>

	<bean id="orderManager" class="org.openedit.entermedia.orders.OrderManager" >
		<property name="searcherManager"><ref bean="searcherManager"/></property>
		<property name="webEventHandler"><ref bean="mediaEventHandler" /></property>
	</bean>
	
	<bean id="orderSearcher" class="org.openedit.entermedia.orders.OrderSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>orders</value></property>
		<property name="newDataName"><value>order</value></property>
		<property name="moduleManager"><ref bean="moduleManager" /></property>
		<property name="orderManager"><ref bean="orderManager" /></property>
	</bean>
	<bean id="order" class="org.openedit.entermedia.orders.Order" singleton="false">
	</bean>

	<bean id="orderitemSearcher" class="org.openedit.data.XmlFileSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>orderitems</value></property>
	</bean>

	<bean id="orderhistorySearcher" class="org.openedit.data.XmlFileSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>orders</value></property>
		<property name="newDataName"><value>orderhistory</value></property>
		<property name="moduleManager"><ref bean="moduleManager" /></property>
	</bean>
	<bean id="orderhistory" class="org.openedit.entermedia.orders.OrderHistory" singleton="false"/>
	
	<bean id="publishManager" class="org.openedit.entermedia.publishing.PublishManager" >
			<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
	</bean>
	
	<bean id="SpreadSheetModule" class="org.openedit.modules.spreadsheet.SpreadSheetModule" >
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
			<property name="fileUpload"><ref bean="fileUpload" /></property>
	</bean>
	
	
	
	
	<bean id="conversiontaskSearcher" class="org.openedit.data.XmlFileSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>assets</value></property>
	</bean>
	
	<bean id="ConvertStatusModule" class="org.openedit.entermedia.modules.ConvertStatusModule">
		<property name="webEventListener"><ref bean="mediaEventHandler" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
	</bean>



	<bean id="messageSearcher" class="org.openedit.data.XmlFileSearcher"	singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		<property name="searcherManager"><ref bean="searcherManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>users</value></property>
	</bean>


	<bean id="MessageModule" class="org.openedit.entermedia.modules.MessageModule">
		<property name="webEventListener"><ref bean="mediaEventHandler" /></property>
	</bean>
	  
	  <bean id="DataImportModule" class="org.openedit.entermedia.modules.DataImportModule">
			<property name="pageManager"><ref bean="pageManager" /></property>
		
		<property name="searcherManager"><ref bean="searcherManager" /></property>
	</bean>
	
	
	<bean id="ftpRepository" name="ftpRepository"
        class="org.openedit.entermedia.FtpRepository" abstract="false"
        singleton="false" lazy-init="default" autowire="default"
        dependency-check="default">
        <property name="userManager"><ref bean="userManager" /></property>
        <property name="searcherManager"><ref bean="searcherManager" /></property> 
    </bean>

    <bean id="scriptManager" class="com.openedit.entermedia.scripts.ScriptManager">
		<property name="moduleManager"><ref bean="moduleManager" /></property>
		<property name="pageManager"><ref bean="pageManager"/></property>
	</bean>
    <bean id="groovyScriptRunner" class="com.openedit.entermedia.scripts.GroovyScriptRunner" >
	    <property name="pageManager"><ref bean="pageManager"/></property>
    </bean>
    <bean id="bshScriptRunner" class="com.openedit.entermedia.scripts.BshScriptRunner" />
    <bean id="rhinoScriptRunner" class="com.openedit.entermedia.scripts.RhinoScriptRunner" />
    <bean id="bsfScriptRunner" class="com.openedit.entermedia.scripts.BsfScriptRunner" />

	<bean id="sizer" class="org.openedit.entermedia.util.Sizer" />
    
    <bean id="userprofileSearcher" class="org.openedit.data.XmlFileSearcher" singleton="false">
		<property name="pageManager"><ref bean="pageManager" /></property>
		<property name="xmlArchive"><ref bean="xmlArchive" /></property>
		
		<property name="moduleManager"><ref bean="moduleManager" /></property>
		<property name="rootDirectory"><ref bean="root" /></property>
		<property name="prefix"><value>users</value></property>
		<property name="newDataName"><value>userProfile</value></property>
		
	</bean>

	<bean id="ProfileModule" class="org.openedit.entermedia.modules.ProfileModule" >
		<property name="userProfileManager"><ref bean="userProfileManager"/></property>
	</bean>

<bean id="BannerModule" name="BannerModule"
		class="org.openedit.images.BannerModule" abstract="false"
		singleton="true" lazy-init="default" autowire="default"
		dependency-check="default">
	
	
	</bean>
 	<bean id="S3Repository" name="S3Repository"
        class="org.entermedia.amazon.S3Repository" abstract="false"
        singleton="false" lazy-init="default" autowire="default"
        dependency-check="default">
    </bean>
    
    <bean id="luceneAssetDataConnector" class="org.entermedia.connectors.lucene.LuceneAssetDataConnector"
		singleton="false">
		<property name="webEventListener">
			<ref bean="mediaEventHandler" />
		</property>
		<property name="rootDirectory">
			<ref bean="root" />
		</property>
		<property name="pageManager">
			<ref bean="pageManager" />
		</property>
		<property name="searcherManager">
			<ref bean="searcherManager" />
		</property>
	</bean>

	<bean id="lockManager" class="org.entermedia.locks.MemoryLockManager" >
		
	</bean>
	

</beans>
