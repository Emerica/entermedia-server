#set ( $urlutils = $context.getPageValue("url_util"))
#if (!$urlutils)
	#set ($urlenc = $asset.sourcepath)
#else
	#set ( $urlenc = $urlutils.encode($asset.sourcepath))
	#set ( $urlenc = $urlenc.replace("%2F", "/") )
#end

##set( $link = "/${applicationid}/views/modules/asset/downloads/preview/extralarge/$urlenc/preview.jpg")
#set( $link = "/${applicationid}/components/mediaviewer/player/zoom/index.html?assetid=$asset.id&name=preview.jpg")

<a class="stackedplayer" data-assetid="$asset.id" href="#" >
	<div class="emdropshadow">
       <img id="main-media" class="assetdragdrop" title="[[Drag to collection]]"  draggable="true"  data-sourcepath="$urlenc" data-name="$asset.name" src="$home/${applicationid}/views/modules/asset/downloads/preview/mediumplus/$urlenc/thumb.jpg" alt="$!asset.name"/>
    </div>  
</a>
<div id="badgecontainer">
#set( $badges = $mediaarchive.getBadges($asset) )
<div class="badgetarget">
#foreach($badge in $badges)
	<span id="$badge.getId()" class="embadge $badge.getId()" style="background-image:url('$home$themeprefix/images/badges/${badge.getId()}.svg')" title="$badge.getName()"> </span>
#end
</div>
</div>


