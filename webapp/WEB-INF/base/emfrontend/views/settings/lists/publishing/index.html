#set($searcher = $searcherManager.getSearcher($catalogid, "publishdestination"))
$!context.putPageValue("searcher",$searcher)		

#set( $query = $searcher.createSearchQuery() )
#set( $null = $query.addMatches("id","*") )
$query.addSortBy("inputtype")
$query.addSortBy("name")

#set( $details = $searcher.getDetailsForView("publishdestination/results",$userprofile) )
<div id="emselectable">
<table class="striped greytxt">
<thead><tr >
#foreach( $detail in $details)
<th>$detail.getText($context)</th>
#end
</thead>
<tbody>
</tr>
#foreach($row in $searcher.search($query) )
<tr rowid="$row.id" >
	#foreach( $detail in $details)
		$!context.putPageValue("detail",$detail)
		<td>		
		#set( $value = false)
		#set( $value = $row.get($detail.id) )
		#if( $value)
			$!context.putPageValue("val",$value)		
			$pages.include("$apphome/components/xml/detailreadonly.html", $context)
		#end
		</td>
	#end


</tr>
#end
</tbody>
</table>
<form name="editview" action="$home$apphome/views/settings/lists/publishing/edit/edit.html"> 
	<input type="hidden" name="id" id="emselectedrow">
</form>
</div>

<a class="btn small" href="$home$apphome/views/settings/publishing/edit/addnew.html"><span>Add New</span></a>
<a class="emdialog btn small" href="$home$apphome/views/settings/publishing/edit/addsmartjog.html"><span>Add SmartJog</span></a>



