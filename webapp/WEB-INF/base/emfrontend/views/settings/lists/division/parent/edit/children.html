#set( $parent = "$content.parenttype")
#set( $child = "$content.childtype")

<div class="ui-widget" style="margin-top: 15px;" >
<div class="ui-widget-header">${content.childlableplural}</div>
<div  class="ui-widget-content" > 


#set( $xmledithome = $context.getPageProperty("xmledithome"))

#set( $selectlink = "$apphome/views/settings/lists/production/$parent/edit/edit.html" )


#set( $joinsearcher = $searcherManager.getSearcher($catalogid, $child))
#set( $query = $joinsearcher.createSearchQuery() )
#set( $null = $query.addExact($parent,$data.id))
#set( $null = $query.addSortBy("name") )

<div id="addnew">
<a class="btn ajax" targetdivinner="addnew" href="$home$apphome/views/settings/lists/$parent/child/edit/addnew.html?${parent}.value=$data.id&oemaxlevel=1"><span>Add New</span></a>
</div>

<div style="margin-top: 10px;">
$context.putPageValue("existingrecords",$joinsearcher.search($query))
$pages.include("$xmledithome/table.html?searchtype=${child}&fieldexternalid=${parent}&catalogid=$catalogid&fieldexternalvalue=$data.id&view=default/results&selectlink=$selectlink", $context)
</div>


</div>